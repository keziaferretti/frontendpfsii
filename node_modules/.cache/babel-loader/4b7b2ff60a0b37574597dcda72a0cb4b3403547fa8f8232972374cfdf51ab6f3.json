{"ast":null,"code":"import _slicedToArray from\"C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMA\\xC7\\xC3O FULL STACK II/frontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Pagina from\"../templates/componentes/Pagina.js\";import FormExemplar from\"../Formularios/FormExemplar.jsx\";import TabelaExemplar from\"../tabelas/TabelaExemplar.jsx\";import{urlBase}from\"../utilitarios/definicoes.js\";import\"../tabelas/estilos/tabela.css\";import{Spinner}from\"react-bootstrap\";import{useState,useEffect}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function TelaFormExemplar(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),exibirTabela=_useState2[0],setExibirTabela=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),exemplar=_useState4[0],setExemplar=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modoEdicao=_useState6[0],setModoEdicao=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),erro=_useState8[0],setErro=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),processado=_useState10[0],setProcessado=_useState10[1];var _useState11=useState({codigo:\"\",titulo:\"\",quantidade:\"\",dataCadastro:\"\",acervo:{codigo:\"\"}}),_useState12=_slicedToArray(_useState11,2),exemplarEmEdicao=_useState12[0],setExemplarEmEdicao=_useState12[1];function prepararExemplarParaEdicao(exemplar){setModoEdicao(true);setExemplarEmEdicao({codigo:exemplar.codigo,titulo:exemplar.acervo.titulo,quantidade:exemplar.quantidade,dataCadastro:exemplar.dataCadastro,acervo:{codigo:exemplar.acervo.codigo}});setExibirTabela(false);}function apagarExemplar(exemplar){fetch(urlBase+\"/exemplar\",{method:\"DELETE\",headers:{'Content-Type':'application/json'},body:JSON.stringify(exemplar)}).then(function(resposta){return resposta.json();}).then(function(retorno){if(retorno.resultado){alert(\"Não foi possível excluir a exemplar\");}else{buscarExemplar();}});}function buscarExemplar(){fetch(urlBase+\"/exemplar\",{method:\"GET\"}).then(function(resposta){if(!resposta.ok){throw new Error('Erro na requisição');}return resposta.json();}).then(function(dados){if(Array.isArray(dados)){setExemplar(dados);exibirTabela(true);}else{setErro(dados.status);}setProcessado(true);}).catch(function(error){console.error('Erro na busca de exemplar:',error);setProcessado(true);});}useEffect(function(){buscarExemplar();},[buscarExemplar]);if(erro){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Erro ao obter os exemplar do Backend : \",erro.message]})});}else if(!processado){return/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Carregando exemplar...\"})});}else{return/*#__PURE__*/_jsx(Pagina,{children:/*#__PURE__*/_jsx(\"div\",{children:exibirTabela?/*#__PURE__*/_jsx(TabelaExemplar,{listaExemplar:exemplar,exibirTabela:setExibirTabela,editarExemplar:prepararExemplarParaEdicao,excluirExemplar:apagarExemplar,setModoEdicao:setModoEdicao,buscar:buscarExemplar,setExemplar:setExemplar}):/*#__PURE__*/_jsx(FormExemplar,{listaExemplar:exemplar,setExemplar:setExemplar,exibirTabela:setExibirTabela,buscar:buscarExemplar,modoEdicao:modoEdicao,setModoEdicao:setModoEdicao,exemplar:exemplarEmEdicao})})});}}","map":{"version":3,"names":["Pagina","FormExemplar","TabelaExemplar","urlBase","Spinner","useState","useEffect","jsxs","_jsxs","jsx","_jsx","TelaFormExemplar","props","_useState","_useState2","_slicedToArray","exibirTabela","setExibirTabela","_useState3","_useState4","exemplar","setExemplar","_useState5","_useState6","modoEdicao","setModoEdicao","_useState7","_useState8","erro","setErro","_useState9","_useState10","processado","setProcessado","_useState11","codigo","titulo","quantidade","dataCadastro","acervo","_useState12","exemplarEmEdicao","setExemplarEmEdicao","prepararExemplarParaEdicao","apagarExemplar","fetch","method","headers","body","JSON","stringify","then","resposta","json","retorno","resultado","alert","buscarExemplar","ok","Error","dados","Array","isArray","status","catch","error","console","children","message","animation","role","className","listaExemplar","editarExemplar","excluirExemplar","buscar"],"sources":["C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMAÇÃO FULL STACK II/frontEnd/src/interfaces/TelaFormExemplar.jsx"],"sourcesContent":["import Pagina from \"../templates/componentes/Pagina.js\";\nimport FormExemplar from \"../Formularios/FormExemplar.jsx\";\nimport TabelaExemplar from \"../tabelas/TabelaExemplar.jsx\";\nimport { urlBase } from \"../utilitarios/definicoes.js\";\nimport \"../tabelas/estilos/tabela.css\";\nimport {Spinner} from \"react-bootstrap\"\nimport { useState, useEffect } from \"react\";\n\nexport default function TelaFormExemplar(props){\n\n    const [exibirTabela, setExibirTabela] = useState (true);\n    const [exemplar, setExemplar] = useState ([]);\n    const [modoEdicao, setModoEdicao] = useState (false);\n    const [erro, setErro] = useState(null);\n    const [processado, setProcessado] = useState (false);\n    const [exemplarEmEdicao, setExemplarEmEdicao] = useState({\n        codigo: \"\",\n        titulo: \"\",\n        quantidade: \"\",\n        dataCadastro: \"\",\n        acervo: {\n            codigo: \"\",\n        }\n    });\n\n    function prepararExemplarParaEdicao(exemplar) {\n        setModoEdicao(true);\n        setExemplarEmEdicao({\n            codigo: exemplar.codigo,\n            titulo: exemplar.acervo.titulo,\n            quantidade: exemplar.quantidade,\n            dataCadastro: exemplar.dataCadastro,\n            acervo: {\n                codigo: exemplar.acervo.codigo\n            },\n            \n        });\n        setExibirTabela(false);\n    }\n    \n\n    function apagarExemplar(exemplar){\n        fetch(urlBase+\"/exemplar\", {\n            method: \"DELETE\",\n            headers:{'Content-Type':'application/json'},\n            body: JSON.stringify(exemplar)\n        }).then((resposta) =>{\n            return resposta.json()\n        }).then((retorno) => {\n            if(retorno.resultado){\n                alert(\"Não foi possível excluir a exemplar\")\n            }\n            else{\n                buscarExemplar()\n            }\n        })\n    }\n\n\n    function buscarExemplar() {\n        fetch(urlBase + \"/exemplar\", {\n            method: \"GET\"\n        })\n        .then((resposta) => {\n            if (!resposta.ok) {\n                throw new Error('Erro na requisição');\n            }\n            return resposta.json();\n        })\n        .then((dados) => {\n            if (Array.isArray(dados)) {\n                setExemplar(dados);\n                exibirTabela(true);\n            } else {\n                setErro(dados.status);\n            }\n            setProcessado(true);\n        })\n        .catch((error) => {\n            console.error('Erro na busca de exemplar:', error);\n            setProcessado(true);\n        });\n    }\n    \n    \n\n    useEffect(() =>{\n        buscarExemplar();\n    },[buscarExemplar])\n\n    if (erro){\n        return <div>\n            <p>Erro ao obter os exemplar do Backend : {erro.message}</p>\n        </div>\n    }else if (!processado){\n        return <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Carregando exemplar...</span>\n        </Spinner>\n    }\n    else{\n        return <Pagina>\n            <div>\n            {\n                exibirTabela ? \n                <TabelaExemplar \n                listaExemplar={exemplar} \n                exibirTabela={setExibirTabela}\n                editarExemplar={prepararExemplarParaEdicao}\n                excluirExemplar={apagarExemplar}\n                setModoEdicao={setModoEdicao}\n                buscar={buscarExemplar}\n                setExemplar={setExemplar}\n                /> \n                :\n                <FormExemplar \n                listaExemplar={exemplar} \n                setExemplar={setExemplar}\n                exibirTabela={setExibirTabela}\n                buscar={buscarExemplar}\n                modoEdicao={modoEdicao}\n                setModoEdicao={setModoEdicao}\n                exemplar={exemplarEmEdicao}\n                />\n            }\n            </div>\n        </Pagina>\n        }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}