{"ast":null,"code":"var _jsxFileName = \"C:\\\\unoeste\\\\Analise e desenvolvimente sistema\\\\4 semestre\\\\PROGRAMA\\xC7\\xC3O FULL STACK II\\\\frontEnd\\\\src\\\\componentes\\\\busca\\\\BarraBusca.jsx\",\n  _s = $RefreshSig$();\nimport { useRef, useState } from 'react';\nimport { Container, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BarraBusca(_ref) {\n  _s();\n  let {\n    placeHolder,\n    dados,\n    campoChave,\n    campoBusca,\n    funcaoSelecao,\n    valor\n  } = _ref;\n  const inputbusca = useRef();\n  //definição dos estados de componentes\n  const [termoBusca, setTermoBusca] = useState(valor ? valor : \"\");\n  const [dadosLista, setDadosLista] = useState(dados);\n  const [itemSelecionado, setItemSelecionado] = useState(false);\n  function filtrarResultado() {\n    // Check if dados is an array before calling the filter() method.\n    if (!Array.isArray(dados)) {\n      return;\n    }\n    setDadosLista(dados.filter(item => {\n      if (item[campoBusca] && termoBusca.length > 1) {\n        return item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase());\n      }\n      return false;\n    }));\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"barra\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-search\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: placeHolder,\n        value: termoBusca,\n        required: true,\n        ref: inputbusca,\n        onChange: e => {\n          setTermoBusca(e.target.value.toLocaleLowerCase());\n          filtrarResultado();\n          if (!itemSelecionado) {\n            e.target.setAttribute('aria-invalid', true);\n            e.target.setCustomValidity('erro');\n          } else {\n            e.target.removeAttribute(\"aria-invalid\");\n            e.target.setCustomValidity(\"\");\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-x\",\n        viewBox: \"0 0 16 16\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), \"onClick\", () => {\n          setTermoBusca('');\n          filtrarResultado();\n          setItemSelecionado(false);\n          funcaoSelecao({});\n          inputbusca.current.setAttribute('aria-invalid', true);\n          inputbusca.current.setCustomValidity('erro');\n        }]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultado\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        \"data-resultado\": true,\n        children: dadosLista.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              setTermoBusca(item[campoBusca]);\n              setItemSelecionado(true);\n              funcaoSelecao(item);\n              //informa que o componente esta limpo\n              inputbusca.current.setCustomValidity(\"\");\n              //deixa de exibir a lista com os resultados\n              let componenteResultado = document.querySelector('[data-resultado]');\n              componenteResultado.style.display = \"none\";\n            },\n            children: item[campoChave] + '-' + item[campoBusca]\n          }, item[campoChave], false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 40\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 13\n  }, this);\n}\n_s(BarraBusca, \"HqT97ZEB0h6dnzGEdb1PqiTrxtU=\");\n_c = BarraBusca;\nvar _c;\n$RefreshReg$(_c, \"BarraBusca\");","map":{"version":3,"names":["useRef","useState","Container","Form","jsxDEV","_jsxDEV","BarraBusca","_ref","_s","placeHolder","dados","campoChave","campoBusca","funcaoSelecao","valor","inputbusca","termoBusca","setTermoBusca","dadosLista","setDadosLista","itemSelecionado","setItemSelecionado","filtrarResultado","Array","isArray","filter","item","length","toLowerCase","includes","children","className","xmlns","width","height","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","placeholder","value","required","ref","onChange","e","target","toLocaleLowerCase","setAttribute","setCustomValidity","removeAttribute","current","map","onClick","componenteResultado","document","querySelector","style","display","_c","$RefreshReg$"],"sources":["C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMAÇÃO FULL STACK II/frontEnd/src/componentes/busca/BarraBusca.jsx"],"sourcesContent":["import { useRef, useState } from 'react';\r\nimport { Container, Form } from 'react-bootstrap';\r\n\r\n\r\nexport default function BarraBusca({placeHolder, \r\n                                    dados, \r\n                                    campoChave, \r\n                                    campoBusca, \r\n                                    funcaoSelecao, \r\n                                    valor})\r\n\r\n    {\r\n        const inputbusca = useRef();\r\n        //definição dos estados de componentes\r\n        const [termoBusca, setTermoBusca] = useState(valor?valor:\"\");\r\n        const [dadosLista, setDadosLista] = useState(dados);\r\n        const [itemSelecionado, setItemSelecionado] = useState(false);\r\n\r\n        function filtrarResultado() {\r\n            // Check if dados is an array before calling the filter() method.\r\n            if (!Array.isArray(dados)) {\r\n              return;\r\n            }\r\n          \r\n            setDadosLista(dados.filter((item) => {\r\n              if (item[campoBusca] && termoBusca.length > 1) {\r\n                return item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase());\r\n              }\r\n              return false;\r\n            }));\r\n          }\r\n        \r\n        return(\r\n            <Container>\r\n                <div className='barra'>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \r\n                    width=\"16\" \r\n                    height=\"16\" \r\n                    fill=\"currentColor\" \r\n                    className=\"bi bi-search\" \r\n                    viewBox=\"0 0 16 16\">\r\n                    <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"/>\r\n                    </svg>\r\n\r\n                    <Form.Control \r\n                        type=\"text\" \r\n                        placeholder={placeHolder} \r\n                        value={termoBusca} \r\n                        required\r\n                        ref={inputbusca}\r\n                        onChange={e=>{\r\n                            setTermoBusca(e.target.value.toLocaleLowerCase());\r\n                            filtrarResultado();\r\n\r\n                            if(!itemSelecionado){\r\n                                e.target.setAttribute('aria-invalid', true);\r\n                                e.target.setCustomValidity('erro');\r\n                            }\r\n                            else{\r\n                                e.target.removeAttribute(\"aria-invalid\");\r\n                                e.target.setCustomValidity(\"\");\r\n                            }\r\n                        }}    \r\n                    ></Form.Control>\r\n                    \r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \r\n                    width=\"16\" \r\n                    height=\"16\" \r\n                    fill=\"currentColor\" \r\n                    className=\"bi bi-x\" \r\n                    viewBox=\"0 0 16 16\">\r\n                    <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                    onClick{()=>{\r\n                        setTermoBusca('');\r\n                        filtrarResultado();\r\n                        setItemSelecionado(false)\r\n                        funcaoSelecao({});\r\n                        inputbusca.current.setAttribute('aria-invalid', true);\r\n                        inputbusca.current.setCustomValidity('erro')\r\n                    }}\r\n                    </svg>\r\n                </div>\r\n                <div className='resultado'>\r\n                    <ul data-resultado>\r\n                        {\r\n                            dadosLista.map(item => {\r\n                                return <li key={item[campoChave]}\r\n                                    onClick={()=>{\r\n                                        setTermoBusca(item[campoBusca]);\r\n                                        setItemSelecionado(true);\r\n                                        funcaoSelecao(item);\r\n                                        //informa que o componente esta limpo\r\n                                        inputbusca.current.setCustomValidity(\"\")\r\n                                        //deixa de exibir a lista com os resultados\r\n                                        let componenteResultado = document.querySelector('[data-resultado]');\r\n                                        componenteResultado.style.display=\"none\";\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        item[campoChave] + '-' + item[campoBusca]\r\n                                    }\r\n                                </li>\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n\r\n            </Container>\r\n        );\r\n    }    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}