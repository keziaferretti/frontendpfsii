{"ast":null,"code":"import _defineProperty from\"C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMA\\xC7\\xC3O FULL STACK II/frontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMA\\xC7\\xC3O FULL STACK II/frontEnd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMA\\xC7\\xC3O FULL STACK II/frontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Form,Button,Row,Col}from'react-bootstrap';import React,{useState}from'react';import\"./estilos/EstiloForm.css\";import{urlBase}from'../utilitarios/definicoes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FormLivro(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),valido=_useState2[0],setValidated=_useState2[1];var _useState3=useState(props.livros),_useState4=_slicedToArray(_useState3,2),livro=_useState4[0],setLivro=_useState4[1];function manipularMudanca(e){var elemForm=e.currentTarget;var id=elemForm.id;var valor=elemForm.value;setLivro(_objectSpread(_objectSpread({},livro),{},_defineProperty({},id,valor)));}function gravarDados(livro){if(!props.modoEdicao){fetch(urlBase+\"/acervos\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(livro)}).then(function(resposta){window.alert(\"Titulo gravado  com sucesso!!\");console.log(resposta);});}else{fetch(urlBase+\"/acervos\",{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(livro)}).then(function(resposta){window.alert(\"Titulo atualizado  com sucesso!!\");});}}function manipulaEvento(evento){var form=evento.currentTarget;if(!form.checkValidity()){evento.preventDefault();evento.stopPropagation();}else{gravarDados(livro);}setValidated(true);return false;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",id:\"corpo\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onoValidate:true,validated:valido,onSubmit:manipulaEvento,className:\"p-5 border rounded mainForm\",noValidate:true,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mb-5 colorWhite\",children:\"Cadastro de T\\xEDtulo\"}),/*#__PURE__*/_jsxs(Row,{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"codigo\",className:\"form-label\",children:\"Codigo\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",className:\"form-control\",value:livro.codigo,placeholder:\"Autom\\xE1tico\",id:\"codigo\",onChange:manipularMudanca,disabled:true})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"titulo\",className:\"form-label\",children:\"Titulo Do Livro\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:livro.titulo,className:\"form-control\",id:\"titulo\",onChange:manipularMudanca,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Titulo do Livro\"})]})})]}),/*#__PURE__*/_jsxs(Row,{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"editora\",className:\"form-label\",children:\"Editora\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:livro.editora,className:\"form-control\",id:\"editora\",onChange:manipularMudanca,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Informe Editora\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"edicao\",className:\"form-label\",children:\"Edi\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:livro.edicao,className:\"form-control\",id:\"edicao\",onChange:manipularMudanca,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Informe Edi\\xE7\\xE3o\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"anoDePublicacao\",className:\"form-label\",children:\"Ano Publica\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:livro.anoDePublicacao,className:\"form-control\",id:\"anoDePublicacao\",onChange:manipularMudanca,required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Informe o Ano de Publica\\xE7\\xE3o\"})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{className:\"mb-3 botao\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"success\",id:\"cadastrar\",children:props.modoEdicao?\" Atualizar\":\"Cadastrar\"}),' ',/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn btn-secondary\",variant:\"warning\",onClick:function onClick(){props.exibirTabela(true);props.setModoEdicao(false);},children:\"Voltar\"}),' ']})})]})})})});}","map":{"version":3,"names":["Form","Button","Row","Col","React","useState","urlBase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FormLivro","props","_useState","_useState2","_slicedToArray","valido","setValidated","_useState3","livros","_useState4","livro","setLivro","manipularMudanca","e","elemForm","currentTarget","id","valor","value","_objectSpread","_defineProperty","gravarDados","modoEdicao","fetch","method","headers","body","JSON","stringify","then","resposta","window","alert","console","log","manipulaEvento","evento","form","checkValidity","preventDefault","stopPropagation","children","className","onoValidate","validated","onSubmit","noValidate","md","Group","Label","htmlFor","Control","type","codigo","placeholder","onChange","disabled","titulo","required","Feedback","editora","edicao","anoDePublicacao","variant","onClick","exibirTabela","setModoEdicao"],"sources":["C:/unoeste/Analise e desenvolvimente sistema/4 semestre/PROGRAMAÇÃO FULL STACK II/frontEnd/src/Formularios/FormLivro.jsx"],"sourcesContent":["import { Form, Button, Row, Col } from 'react-bootstrap';\nimport React, { useState } from 'react';\nimport \"./estilos/EstiloForm.css\";\nimport { urlBase } from '../utilitarios/definicoes';\n\nexport default function FormLivro(props) {\n\n    const [valido, setValidated] = useState(false);\n\n    const [livro, setLivro] = useState(props.livros)\n\n    function manipularMudanca(e){\n        const elemForm = e.currentTarget;\n        const id = elemForm.id;\n        const valor = elemForm.value;\n        setLivro({...livro, [id]:valor});\n    }\n\n    function gravarDados(livro){\n        if(!props.modoEdicao){\n            fetch(urlBase+\"/acervos\",{\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(livro),\n            }).then((resposta) =>{\n                window.alert(\"Titulo gravado  com sucesso!!\")\n                console.log(resposta)\n            })\n        }else{\n            fetch(urlBase+\"/acervos\",{\n                method: 'PUT',\n                headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(livro),\n            }).then((resposta) =>{\n                window.alert(\"Titulo atualizado  com sucesso!!\")\n            })\n        }\n\n    }\n\n  \n    function manipulaEvento(evento) {\n        const form = evento.currentTarget;\n\n        if (!form.checkValidity()) {\n            evento.preventDefault();\n            evento.stopPropagation();\n        }\n        else{\n            gravarDados(livro)\n        }\n        setValidated(true);\n        return false;\n    };\n\n    return(\n        <>\n            <div className='row justify-content-center' id=\"corpo\">\n                <div>\n                    <Form onoValidate validated={valido} onSubmit={manipulaEvento} className=\"p-5 border rounded mainForm\" noValidate>\n                    <h3 className=\"text-center mb-5 colorWhite\">Cadastro de Título</h3>\n                        <Row className=\"row mb-3\">\n                        <Col md={2}>\n                            <Form.Group>\n                                <Form.Label htmlFor=\"codigo\" className=\"form-label\">Codigo</Form.Label>\n                                <Form.Control type=\"text\" className=\"form-control\" value={livro.codigo} placeholder=\"Automático\" id=\"codigo\" onChange={manipularMudanca} disabled />\n                            </Form.Group>\n                        </Col>\n                        <Col>\n                            <Form.Group>\n                                <Form.Label htmlFor=\"titulo\" className=\"form-label\">Titulo Do Livro</Form.Label>\n                                <Form.Control type=\"text\" value={livro.titulo} className=\"form-control\" id=\"titulo\" onChange={manipularMudanca} required />\n                                <Form.Control.Feedback type='invalid'>Titulo do Livro</Form.Control.Feedback>\n                            </Form.Group>\n                        </Col>\n                        </Row>\n                        \n                        <Row className=\"row mb-3\">\n                            <Col>\n                                <Form.Group>\n                                    <Form.Label htmlFor=\"editora\" className=\"form-label\">Editora</Form.Label>\n                                    <Form.Control  type=\"text\" value={livro.editora} className=\"form-control\" id=\"editora\" onChange={manipularMudanca} required />\n                                    <Form.Control.Feedback type='invalid'>Informe Editora</Form.Control.Feedback>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Form.Group >\n                                    <Form.Label htmlFor=\"edicao\" className=\"form-label\">Edição</Form.Label>\n                                    <Form.Control  type=\"text\" value={livro.edicao} className=\"form-control\" id=\"edicao\" onChange={manipularMudanca} required />\n                                    <Form.Control.Feedback type='invalid'>Informe Edição</Form.Control.Feedback>\n                                </Form.Group>\n                            </Col>\n                            <Col>\n                                <Form.Group >\n                                <Form.Label htmlFor=\"anoDePublicacao\" className=\"form-label\">Ano Publicação</Form.Label>\n                                    <Form.Control  type=\"date\" value={livro.anoDePublicacao} className=\"form-control\" id=\"anoDePublicacao\" onChange={manipularMudanca} required />\n                                    <Form.Control.Feedback type='invalid'>Informe o Ano de Publicação</Form.Control.Feedback>\n                                </Form.Group>\n                            </Col>\n                        </Row>\n                        <br />\n\n                        <Row className='mb-3 botao'>\n                            <div>\n                                <Button type=\"submit\" \n                                variant=\"success\" \n                                id=\"cadastrar\">{props.modoEdicao ? \" Atualizar\": \"Cadastrar\" } \n                                </Button>{' '}\n\n                                <Button type=\"button\" \n                                className=\"btn btn-secondary\" \n                                variant=\"warning\" \n                                onClick={()=>{ props.exibirTabela(true); \n                                props.setModoEdicao(false)}}>Voltar</Button>{' '}\n                            </div>\n                        </Row>\n                        \n                    </Form>\n                </div>   \n            </div>    \n           \n                    \n\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}